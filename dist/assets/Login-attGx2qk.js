import{u as g,a as N,r,j as e,L as d,s as v}from"./index-YyWu4Jnp.js";import{a as y}from"./axios-jMTBJgDy.js";import{F as m,j as k,k as L}from"./index-waHClJbd.js";import"./axios-L6U4YIEh.js";const F=()=>{const x=g(),u=N(),[n,p]=r.useState(!1),[o,h]=r.useState(""),[l,b]=r.useState(""),[c,t]=r.useState(""),j=async a=>{a.preventDefault();const f=/^[a-zA-Z]+(?:[' -][a-zA-Z]+)*$/,w=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;if(!f.test(o)){t("Name must contain only letters");return}if(!w.test(l)){t("Password must contain at least one lowercase letter, one uppercase letter, one number, one special character, and be at least 8 characters long");return}t("");try{const s=await y.post("/user/login",{username:o,password:l});if(s.status===200){const i=s.data.Token;localStorage.setItem("jwt",i),u(v(i)),x("/user/uhome")}}catch(s){s.response&&s.response.data.message?t(s.response.data.message):t("An error occured.please try again.")}};return e.jsxs("div",{className:"min-h-screen w-full flex sm:flex-row flex-col items-center justify-center gap-5 bg-gray-100 px-3",children:[e.jsxs("div",{className:"md:text-4xl sm:text-3xl text-2xl text-black font-bold text-center tm:p-5",children:[e.jsx("p",{children:"ALL IN ONE "}),e.jsx("p",{className:"",children:"SOLUTION"})]}),e.jsxs("div",{className:" bg-gradient-to-b from-[#252e53] to-[#4d1438] sm:p-8 p-4 sm:py-20 rounded shadow-md w-full max-w-md",children:[e.jsx("h2",{className:"text-2xl font-bold sm:mb-6 text-center text-white",children:"Login"}),e.jsxs("form",{onSubmit:j,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-white text-sm font-semibold mb-2",htmlFor:"username",children:"Username"}),e.jsx("input",{className:"w-full tm:p-1 p-4 border rounded-md focus:outline-none focus:border-blue-500 shadow-xl",type:"text",id:"username",value:o,onChange:a=>h(a.target.value),name:"username",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-white text-sm font-semibold mb-2",htmlFor:"password",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{className:"w-full tm:p-1 p-4 border rounded-md focus:outline-none focus:border-blue-500 shadow-xl",type:n?"text ":"password",id:"password",value:l,onChange:a=>b(a.target.value),name:"username",required:!0}),e.jsx("div",{onClick:()=>p(!n),className:"showPass absolute top-2 right-3 cursor-pointer text-gray-800",children:n?e.jsx(m,{icon:L}):e.jsx(m,{icon:k})})]})]}),e.jsxs("p",{className:"mb-4 text-white",children:[e.jsx(d,{to:"/user/otp",children:e.jsx("span",{className:"text-blue-400 mr-3 hover:text-blue-700 cursor-pointer",children:"Forgot"})}),"password ?"]}),e.jsx("div",{children:c&&e.jsx("div",{className:"text-red-500 mb-4 text-center",children:c})}),e.jsx("div",{className:"flex justify-center items-center",children:e.jsx("button",{className:"p-2 tm:px-10 px-4 bg-cyan-500 text-white rounded-md font-semibold hover:bg-cyan-800",type:"submit",children:"Login"})}),e.jsx("div",{className:"text-center py-3 text-white",children:e.jsxs("p",{children:["Don't have an account ? please",e.jsx(d,{to:"/user/signUp",children:e.jsx("span",{className:"text-blue-400 ml-3 hover:text-blue-700 cursor-pointer",children:"SignIn"})})]})})]})]})]})};export{F as default};
