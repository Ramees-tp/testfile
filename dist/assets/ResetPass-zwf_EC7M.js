import{r as s,j as e,L as g}from"./index-YyWu4Jnp.js";import{a as N}from"./axios-jMTBJgDy.js";import{F as o,j as m,k as x}from"./index-waHClJbd.js";import"./axios-L6U4YIEh.js";function R(){const[n,u]=s.useState(!1),[l,h]=s.useState(!1),[d,p]=s.useState(""),[i,f]=s.useState(""),[w,b]=s.useState(!1),[c,t]=s.useState(""),j=async a=>{if(a.preventDefault(),!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(d)){t("Password Does not meet requirments");return}if(d!==i){t("Passwords does not match");return}t("");try{(await N.post("/user/resetPass",{password:i})).status===200&&b(!0)}catch(r){r.response&&r.response.data.message?t(r.response.data.message):t("An error occured.please try again.")}};return e.jsx("div",{children:e.jsxs("div",{className:"min-h-screen grid grid-cols-2 items-center justify-center bg-gray-100 px-3",children:[e.jsxs("div",{className:"sm:text-4xl text-3xl text-black font-bold text-center p-5",children:[e.jsx("p",{children:"ALL IN ONE "}),e.jsx("p",{className:"",children:"SOLUTION"})]}),w?e.jsxs("div",{className:"flex flex-col justify-center items-center gap-4",children:[e.jsx("div",{className:"text-green-700 font-bold text-2xl",children:"OTP updated Successfully!"}),e.jsx(g,{to:"/user/uhome",children:e.jsx("button",{className:"p-2 px-10 bg-[#6e2b2b] text-white rounded-md font-semibold hover:bg-[#8a3232]",type:"submit",children:"Back Home"})})]}):e.jsxs("div",{className:" bg-gradient-to-b from-[#252e53] to-[#4d1438] sm:p-10 p-3 sm:py-20 py-10 rounded shadow-md w-full max-w-md",children:[e.jsx("h2",{className:"text-3xl font-bold mb-6 text-center text-white",children:"Reset Password"}),e.jsxs("form",{className:"flex flex-col",onSubmit:j,children:[e.jsx("label",{className:"block text-white text-sm font-semibold mb-2",htmlFor:"Password",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{className:"w-full p-2 border rounded-md focus:outline-none focus:border-blue-500 shadow-xl mb-4",type:n?"text ":"password",name:"password",value:d,onChange:a=>p(a.target.value)}),e.jsx("div",{onClick:()=>u(!n),className:"showPass absolute top-2 right-3 cursor-pointer text-gray-800",children:n?e.jsx(o,{icon:x}):e.jsx(o,{icon:m})})]}),e.jsx("label",{className:"block text-white text-sm font-semibold mb-2",htmlFor:"Password",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{className:"w-full p-2 border rounded-md focus:outline-none focus:border-blue-500 shadow-xl mb-4",type:l?"text ":"password",name:"confirmPassword",value:i,onChange:a=>f(a.target.value)}),e.jsx("div",{onClick:()=>h(!l),className:"showPass absolute top-2 right-3 cursor-pointer text-gray-800",children:l?e.jsx(o,{icon:x}):e.jsx(o,{icon:m})})]}),c&&e.jsx("div",{className:"text-red-500",children:c}),e.jsx("div",{className:"flex justify-center items-center",children:e.jsx("button",{className:"p-2 px-10 bg-cyan-500 text-white rounded-md font-semibold hover:bg-cyan-800",type:"submit",children:"Reset"})})]})]})]})})}export{R as default};
