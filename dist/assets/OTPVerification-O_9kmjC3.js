import{u as y,r as a,j as e}from"./index-YyWu4Jnp.js";import{a as d}from"./axios-jMTBJgDy.js";import"./axios-L6U4YIEh.js";const O=()=>{const x=y(),[i,u]=a.useState(""),[o,m]=a.useState(["","","","","",""]),[c,r]=a.useState(""),[p,h]=a.useState(!1),n=Array.from({length:6},()=>a.useRef(null)),f=(s,t)=>{const l=[...o];l[s]=t,m(l),t.length===1&&s<n.length-1?n[s+1].current.focus():t.length===0&&s>0&&n[s-1].current.focus()},g=async()=>{try{(await d.post("/user/userOTP",{email:i})).status===200&&h(!0),r("")}catch(s){s.response&&s.response.data.error&&r(s.response.data.error),r(c.response.data.err)}},j=async()=>{try{(await d.post("/user/verifyOTP",{otpValues:o})).status===200&&x("/user/resetPassword")}catch(s){s.response&&s.response.data.error?r(s.response.data.error):r("Failed to verify OTP. Please try again.")}};return e.jsxs("div",{className:"min-h-screen sm:grid sm:grid-cols-2 flex flex-col items-center justify-center bg-gray-100 px-3 ",children:[e.jsxs("div",{className:"sm:text-4xl text-3xl text-black font-bold text-center p-5",children:[e.jsx("p",{children:"ALL IN ONE "}),e.jsx("p",{children:"SOLUTION"})]}),e.jsxs("div",{className:" bg-gradient-to-b from-[#252e53] to-[#4d1438]  sm:p-8 p-3 rounded shadow-md w-full max-w-md flex flex-col space-y-5",children:[e.jsx("h2",{className:"text-3xl font-bold text-center text-white",children:"OTP Verification"}),p?e.jsxs("div",{className:"flex flex-col justify-center text-center gap-y-3",children:[e.jsx("label",{className:"text-white",children:"Enter OTP:"}),e.jsx("div",{className:"flex justify-around mb-4",children:n.map((s,t)=>e.jsx("input",{type:"number",name:"otpValues",className:"w-9 p-1 border shadow-xl rounded text-center",maxLength:"1",ref:s,value:o[t],onChange:l=>f(t,l.target.value)},t))}),e.jsx("button",{className:"bg-slate-100 hover:bg-sky-700 shadow-xl p-2 rounded-lg",onClick:j,children:"Verify OTP"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col gap-y-5",children:[e.jsxs("div",{className:"flex flex-col gap-y-3",children:[e.jsx("label",{className:"text-white",children:"Enter Email :"}),e.jsx("input",{type:"text",name:"email",value:i,onChange:s=>u(s.target.value),className:"rounded-md p-2 outline-none "})]}),e.jsx("button",{className:"bg-slate-100 hover:bg-sky-700 shadow-xl p-2 rounded-lg",onClick:g,children:"Send OTP"})]}),e.jsxs("div",{children:[" ",c&&e.jsx("div",{className:"text-red-500 mb-4 text-center",children:c})]})]})]})]})};export{O as default};
