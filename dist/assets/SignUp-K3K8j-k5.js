import{u as A,r,a as E,j as e,L as F,s as I}from"./index-YyWu4Jnp.js";import{a as U}from"./axios-L6U4YIEh.js";import{a as L}from"./axios-jMTBJgDy.js";import{F as n,j as p,k as h}from"./index-waHClJbd.js";const T=()=>{const b=A(),[l,f]=r.useState(!1),[i,w]=r.useState(!1),[m,j]=r.useState(""),[d,g]=r.useState(""),[o,v]=r.useState(""),[c,N]=r.useState(""),[u,t]=r.useState(""),y=E();U.defaults.withCredentials=!0;const S=async s=>{s.preventDefault();const k=/^[a-zA-Z]+(?:[' -][a-zA-Z]+)*$/,P=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,C=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!k.test(m)){t("Name must contain only letters");return}if(!P.test(o)){t("Password must contain at least one lowercase letter, one uppercase letter, one number, one special character, and be at least 8 characters long");return}if(!C.test(d)){t("Invalid email address");return}if(o!==c){t("Passwords do not match");return}t("");try{const a=await L.post("/user/signUp",{username:m,email:d,password:o});if(a.status===200){const x=a.data.Token;localStorage.setItem("jwt",x),y(I(x)),b("/user/uhome"),t(a.data.message)}}catch(a){a.response&&a.response.data.message?t(a.response.data.message):t("An error occured.please try again.")}};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen flex md:flex-row flex-col items-center justify-center gap-5 bg-gray-100 px-3",children:[e.jsxs("div",{className:"md:text-4xl sm:text-3xl text-2xl text-black font-bold text-center sm:p-5",children:[e.jsx("p",{children:"ALL IN ONE "}),e.jsx("p",{children:"SOLUTION"})]}),e.jsxs("div",{className:" bg-gradient-to-b from-[#252e53] to-[#4d1438]  sm:p-8 p-4 rounded shadow-md w-full max-w-md",children:[e.jsx("h2",{className:"text-2xl font-bold sm:mb-6 text-center text-white",children:"Sign Up"}),e.jsxs("form",{onSubmit:S,className:"",children:[e.jsxs("div",{className:"sm:mb-4 mb-2",children:[e.jsx("label",{className:"block text-white text-sm font-semibold mb-2",htmlFor:"username",children:"Username"}),e.jsx("input",{className:"w-full tm:p-1 p-3 border rounded-md focus:outline-none focus:border-blue-500 shadow-xl",type:"text",id:"username",value:m,onChange:s=>j(s.target.value),required:!0,name:"username"})]}),e.jsxs("div",{className:"sm:mb-4 mb-2",children:[e.jsx("label",{className:"block text-white text-sm font-semibold mb-2",htmlFor:"email",children:"Email"}),e.jsx("input",{className:"w-full tm:p-1 p-3 border rounded-md focus:outline-none focus:border-blue-500 shadow-xl ",type:"email",id:"email",value:d,onChange:s=>g(s.target.value),required:!0,name:"email"})]}),e.jsxs("div",{className:"sm:mb-4 mb-2",children:[e.jsx("label",{className:"block text-white text-sm font-semibold mb-2",htmlFor:"password",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{className:"w-full tm:p-1 p-3 border rounded-md focus:outline-none focus:border-blue-500 shadow-xl",type:l?"text ":"password",id:"password",value:o,onChange:s=>v(s.target.value),required:!0,name:"password"}),e.jsx("div",{onClick:()=>f(!l),className:"showPass absolute tm:top-2 top-[2%] right-3 cursor-pointer text-gray-800",children:l?e.jsx(n,{icon:h}):e.jsx(n,{icon:p})})]})]}),e.jsxs("div",{className:"sm:mb-4 mb-2",children:[e.jsx("label",{className:"block text-white text-sm font-semibold mb-2",htmlFor:"password",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{className:"w-full tm:p-1 p-3 border rounded-md focus:outline-none focus:border-blue-500 shadow-xl",type:i?"text ":"password",id:"Cpassword",value:c,onChange:s=>N(s.target.value),required:!0}),e.jsx("div",{onClick:()=>w(!i),className:"showPass absolute tm:top-2 top-[2%] right-3 cursor-pointer text-gray-800",children:i?e.jsx(n,{icon:h}):e.jsx(n,{icon:p})})]})]}),e.jsx("div",{children:u&&e.jsx("div",{className:"text-red-500 mb-4 text-center",children:u})}),e.jsx("div",{className:"flex justify-center items-center",children:e.jsx("button",{className:"p-2 sm:px-10 bg-cyan-500 text-white rounded-md font-semibold hover:bg-cyan-800 ",type:"submit",children:"Sign Up"})}),e.jsx("div",{className:"text-center sm:py-3 text-white",children:e.jsxs("p",{children:["Alredy a user? please",e.jsx(F,{to:"/user/login",children:e.jsx("span",{className:"text-blue-400 ml-3 hover:text-blue-700 cursor-pointer",children:"LogIn"})})]})})]})]})]})})};export{T as default};
